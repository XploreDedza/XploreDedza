<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>XploreDedza – All-in-One</title>
  <meta name="description" content="Explore Dedza's vibrant heritage—tours, guides, gallery, booking and more.">

  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments) }
    gtag('js', new Date());
    gtag('config','G-XXXXXXXXXX',{ send_page_view:true });
  </script>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

  <!-- FontAwesome -->
  <script src="https://kit.fontawesome.com/yourkit.js" crossorigin="anonymous"></script>

  <!-- Inline Styles -->
  <style>
    :root {
      --primary: #2c7a7b;
      --secondary: #edf2f7;
      --accent: #f6ad55;
      --text: #2d3748;
      --light: #ffffff;
    }
    *,*::before,*::after { box-sizing:border-box; margin:0; padding:0 }
    body { font-family:Inter,sans-serif; color:var(--text); background:var(--light); line-height:1.6; overflow-x:hidden }
    .container { width:90%;max-width:1200px;margin:0 auto }

    /* 1. Header */
    header {
      position:sticky; top:0; background:var(--light);
      box-shadow:0 2px 4px rgba(0,0,0,0.1); z-index:1000
    }
    .header-inner {
      display:flex; align-items:center; justify-content:space-between; padding:1rem 0
    }
    .logo img { height:40px }
    nav ul {
      list-style:none; display:flex; gap:1.5rem
    }
    nav a {
      text-decoration:none; color:var(--text); position:relative
    }
    nav a::after {
      content:''; position:absolute; height:2px; width:0; left:0; bottom:-4px;
      background:var(--accent); transition:width .3s
    }
    nav a:hover::after { width:100% }
    .nav-toggle { display:none; background:none; border:none; cursor:pointer }
    .hamburger,
    .hamburger::before,
    .hamburger::after {
      width:25px; height:3px; background:var(--text); display:block;
      position:relative; transition:all .3s
    }
    .hamburger::before,
    .hamburger::after { content:''; position:absolute }
    .hamburger::before { top:-8px }
    .hamburger::after { bottom:-8px }

    @media(max-width:768px) {
      nav ul {
        position:fixed; top:0; right:-100%; width:200px; height:100vh;
        background:var(--light); flex-direction:column; padding-top:5rem;
        transition:right .3s
      }
      nav ul.open { right:0 }
      .nav-toggle { display:block }
    }

    /* 2. Hero */
    .hero {
      position:relative; width:100%; height:100vh; overflow:hidden
    }
    .hero-slides {
      position:absolute; width:100%; height:100%
    }
    .slide {
      position:absolute; width:100%; height:100%;
      background-size:cover; background-position:center;
      opacity:0; transition:opacity 1s ease-in-out
    }
    .slide.active { opacity:1 }
    .hero-content {
      position:relative; z-index:2;
      top:50%; transform:translateY(-50%);
      text-align:center; color:var(--light); padding:0 1rem
    }
    .hero-title {
      font-size:3rem; text-shadow:0 2px 8px rgba(0,0,0,0.5);
      animation:slideIn 1s forwards
    }
    .hero-subtitle {
      margin-top:.5rem; font-size:1.2rem;
      animation:slideIn 1.2s forwards
    }
    @keyframes slideIn {
      from { opacity:0; transform:translateY(20px) }
      to { opacity:1; transform:translateY(0) }
    }

    /* 3. Why Choose Us */
    .why-choose {
      padding:4rem 0; text-align:center
    }
    .features-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:2rem; margin-top:2rem
    }
    .feature-item {
      background:var(--secondary); padding:1.5rem; border-radius:8px;
      box-shadow:0 2px 6px rgba(0,0,0,0.1);
      opacity:0; transform:translateY(20px);
      transition:all .6s
    }
    .feature-item.visible {
      opacity:1; transform:translateY(0)
    }

    /* 4 & 5. Cards */
    .cards-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:2rem; margin-top:2rem
    }
    .card {
      background:var(--light); border-radius:8px; overflow:hidden;
      box-shadow:0 2px 8px rgba(0,0,0,0.1);
      transition:transform .3s,box-shadow .3s;
      opacity:0; transform:translateY(20px)
    }
    .card.visible {
      opacity:1; transform:translateY(0)
    }
    .card:hover {
      transform:translateY(-5px) scale(1.02);
      box-shadow:0 4px 12px rgba(0,0,0,0.15)
    }
    .card img { width:100%; display:block }
    .card h3 { margin:1rem }
    .card p { margin:0 1rem 1rem }
    .price {
      margin:0 1rem 1rem; font-weight:bold
    }
    .currency-switch {
      text-align:right; margin-top:1rem
    }

    /* 6. Booking */
    .booking {
      padding:4rem 0
    }
    .booking form {
      display:grid; gap:1rem; margin-bottom:2rem
    }
    .form-row {
      display:flex; gap:1rem
    }
    input, select, textarea {
      width:100%; padding:.75rem; border:1px solid #ccc;
      border-radius:4px
    }
    .total-cost {
      font-size:1.2rem; font-weight:bold
    }
    .btn {
      background:var(--accent); color:var(--light);
      padding:.75rem 1.5rem; border:none; border-radius:4px;
      cursor:pointer; transition:background .3s
    }
    .btn:hover { background:var(--primary) }
    .stats {
      display:flex; gap:2rem; justify-content:center
    }
    .stats div { text-align:center }
    .tree-animation {
      font-size:2rem; text-align:center; opacity:0;
      transition:opacity .5s
    }

    /* 7. Partners */
    .partners-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
      gap:2rem; align-items:center; margin-top:2rem
    }
    .partners-grid img,
    .partner-placeholder {
      background:var(--secondary); border-radius:8px;
      padding:1rem; text-align:center;
      transition:transform .3s,box-shadow .3s
    }
    .partners-grid img:hover,
    .partner-placeholder:hover {
      transform:scale(1.05);
      box-shadow:0 4px 12px rgba(0,0,0,0.15)
    }

    /* 8. Gallery */
    .gallery-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
      gap:1rem; margin-top:2rem
    }
    .gallery-grid img {
      width:100%; border-radius:8px; transition:transform .3s;
      cursor:pointer
    }
    .gallery-grid img:hover { transform:scale(1.05) }

    /* 9. Testimonials */
    .testi-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:2rem; margin-top:2rem
    }
    .testi-item {
      background:var(--secondary); padding:1.5rem; border-radius:8px;
      opacity:0; transform:translateY(20px);
      transition:all .6s
    }
    .testi-item.visible {
      opacity:1; transform:translateY(0)
    }

    /* 10. Map */
    .map-section { padding:4rem 0 }
    #mapid {
      width:100%; height:400px; border-radius:8px
    }

    /* 11. Donate */
    .donate-btn {
      position:fixed; bottom:20px; right:20px;
      background:linear-gradient(45deg,var(--accent),var(--primary));
      color:var(--light); border:none; border-radius:50px;
      padding:.75rem 1.25rem; cursor:pointer;
      box-shadow:0 4px 12px rgba(0,0,0,0.2);
      animation:pulse 2s infinite; z-index:1000
    }
    .donate-btn .tooltip {
      visibility:hidden; opacity:0; position:absolute;
      bottom:100%; right:0; background:var(--text);
      color:var(--light); padding:.5rem; border-radius:4px;
      transition:opacity .3s; font-size:.85rem; white-space:nowrap
    }
    .donate-btn:hover .tooltip {
      visibility:visible; opacity:1
    }
    @keyframes pulse {
      0%,100% { transform:scale(1) }
      50% { transform:scale(1.05) }
    }

    /* 12. Footer */
    footer {
      background:var(--primary); color:var(--light);
      padding:2rem 0; margin-top:4rem
    }
    .footer-cols {
      display:flex; flex-wrap:wrap; gap:2rem;
      justify-content:space-between
    }
    .footer-logo { height:30px }
  </style>
</head>

<body>
  <!-- 1. Header -->
  <header id="site-header">
    <div class="container header-inner">
      <a href="#home" class="logo">
        <img src="images/mask.png" alt="Logo"/>
      </a>
      <nav>
        <ul id="nav-links">
          <li><a href="#home">Home</a></li>
          <li><a href="#tours">Tours</a></li>
          <li><a href="#guides">Guides</a></li>
          <li><a href="#gallery">Gallery</a></li>
          <li><a href="#booking">Book Now</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
        <button class="nav-toggle" id="nav-toggle">
          <span class="hamburger"></span>
        </button>
      </nav>
    </div>
  </header>

  <!-- 2. Hero -->
  <section class="hero" id="home">
    <div class="hero-slides">
      <div class="slide active" style="background-image:url('images/hero1.jpg')"></div>
      <div class="slide" style="background-image:url('images/hero2.jpg')"></div>
      <div class="slide" style="background-image:url('images/hero3.jpg')"></div>
      <div class="slide" style="background-image:url('images/hero4.jpg')"></div>
    </div>
    <div class="hero-content">
      <h1 class="hero-title">Explore Dedza with Us</h1>
      <p class="hero-subtitle">Discover culture, adventure, and nature in the heart of Malawi</p>
    </div>
  </section>

  <!-- 3. Why Choose Us -->
  <section class="why-choose container" id="why-choose">
    <h2>Why Choose Us</h2>
    <ul class="features-grid">
      <li class="feature-item">Local Guides</li>
      <li class="feature-item">Eco-Friendly Tours 🌳</li>
      <li class="feature-item">Flexible & Personalized</li>
      <li class="feature-item">Modern Booking Experience</li>
    </ul>
  </section>

  <!-- 4. Tours -->
  <section class="tours container" id="tours">
    <h2>Our Tour Packages</h2>
    <div class="cards-grid">
      <div class="card">
        <img src="images/tour1.jpg" alt="Adventure Tour"/>
        <h3>Adventure Tour</h3>
        <p>Hiking, cycling, and adrenaline-packed activities.</p>
        <div class="price" data-mwk="30000">MWK 30,000</div>
      </div>
      <div class="card">
        <img src="images/tour2.jpg" alt="Cultural Tour"/>
        <h3>Cultural Tour</h3>
        <p>Experience Dedza’s art, music, and traditions.</p>
        <div class="price" data-mwk="25000">MWK 25,000</div>
      </div>
      <div class="card">
        <img src="images/tour3.jpg" alt="Nature Tour"/>
        <h3>Nature Tour</h3>
        <p>Bird watching, waterfalls, and mountain trails.</p>
        <div class="price" data-mwk="20000">MWK 20,000</div>
      </div>
      <div class="card">
        <img src="images/tour4.jpg" alt="Food Tour"/>
        <h3>Food Tour</h3>
        <p>Taste Dedza’s farm-to-table specialties.</p>
        <div class="price" data-mwk="15000">MWK 15,000</div>
      </div>
    </div>
    <div class="currency-switch">
      <label><input type="checkbox" id="toggle-currency"/> Show USD</label>
    </div>
  </section>

  <!-- 5. Guides -->
  <section class="guides container" id="guides">
    <h2>Meet Our Guides</h2>
    <div class="cards-grid">
      <div class="card">
        <img src="images/guide1.jpg" alt="Peter Banda"/>
        <h3>Peter Banda</h3>
        <p>Adventure Specialist</p>
        <p>Led over 100 mountain hikes.</p>
      </div>
      <div class="card">
        <img src="images/guide2.jpg" alt="Grace Phiri"/>
        <h3>Grace Phiri</h3>
        <p>Cultural Expert</p>
        <p>Keeper of local folklore.</p>
      </div>
      <div class="card">
        <img src="images/guide3.jpg" alt="Samuel Moyo"/>
        <h3>Samuel Moyo</h3>
        <p>Birding & Nature</p>
        <p>Spots 50+ bird species.</p>
      </div>
      <div class="card">
        <img src="images/guide4.jpg" alt="Lucy Chirwa"/>
        <h3>Lucy Chirwa</h3>
        <p>Food & Community</p>
        <p>Farm-to-table curator.</p>
      </div>
    </div>
  </section>

  <!-- 6. Booking -->
  <section class="booking container" id="booking">
    <h2>Book Your Tour</h2>
    <form id="booking-form">
      <div class="form-row">
        <input type="text" id="name" placeholder="Name" required/>
        <input type="email" id="email" placeholder="Email" required/>
      </div>
      <div class="form-row">
        <input type="tel" id="phone" placeholder="Phone" required/>
        <select id="tour-type" required>
          <option disabled selected>Select Tour Type</option>
          <option data-price="30000">Adventure</option>
          <option data-price="25000">Cultural</option>
          <option data-price="20000">Nature</option>
          <option data-price="15000">Food</option>
        </select>
      </div>
      <div class="form-row">
        <input type="date" id="arrival-date" required/>
        <input type="number" id="people" placeholder="People" value="1" min="1" required/>
      </div>
      <textarea id="notes" rows="3" placeholder="Additional Notes"></textarea>
      <div class="total-cost">Total: MWK <span id="total-cost">0</span></div>
      <button class="btn" type="submit">Book Now</button>
    </form>

    <div class="stats" id="stats">
      <div><strong id="stat-bookings">0</strong><span>Bookings</span></div>
      <div><strong id="stat-people">0</strong><span>People</span></div>
      <div><strong id="stat-trees">0</strong><span>Trees Planted</span></div>
    </div>

    <div class="tree-animation" id="tree-animation">🌱</div>
  </section>

  <!-- 7. Partners -->
  <section class="partners container" id="partners">
    <h2>Our Trusted Partners</h2>
    <div class="partners-grid">
      <img src="images/dedza_council.png" alt="Dedza Council"/>
      <div class="partner-placeholder">Future Partner</div>
      <div class="partner-placeholder">Future Partner</div>
      <div class="partner-placeholder">Future Partner</div>
    </div>
  </section>

  <!-- 8. Gallery -->
  <section class="gallery container" id="gallery">
    <h2>Photo Gallery</h2>
    <div class="gallery-grid">
      <img src="images/gallery1.jpg" alt="Gallery 1"/>
      <img src="images/gallery2.jpg" alt="Gallery 2"/>
      <img src="images/gallery3.jpg" alt="Gallery 3"/>
      <img src="images/gallery4.jpg" alt="Gallery 4"/>
      <img src="images/gallery5.jpg" alt="Gallery 5"/>
      <img src="images/gallery6.jpg" alt="Gallery 6"/>
      <img src="images/gallery7.jpg" alt="Gallery 7"/>
      <img src="images/gallery8.jpg" alt="Gallery 8"/>
    </div>
  </section>

  <!-- 9. Testimonials -->
  <section class="testimonials container" id="testimonials">
    <h2>What Visitors Say</h2>
    <div class="testi-grid">
      <div class="testi-item">
        <p>“Amazing guides and breathtaking views!”</p><h4>– Anna K.</h4>
      </div>
      <div class="testi-item">
        <p>“I loved the cultural tour. So immersive.”</p><h4>– John M.</h4>
      </div>
      <div class="testi-item">
        <p>“Nature tour was serene and well organized.”</p><h4>– Lucy W.</h4>
      </div>
      <div class="testi-item">
        <p>“Booking experience was seamless.”</p><h4>– David T.</h4>
      </div>
    </div>
  </section>

  <!-- 10. Map -->
  <section class="map-section container" id="map">
    <h2>Discover Dedza</h2>
    <div id="mapid"></div>
  </section>

  <!-- 11. Donate -->
  <button class="donate-btn" id="donate-btn">
    Donate 🏕️
    <span class="tooltip">Help us buy equipment & build a Dedza mountain cottage</span>
  </button>

  <!-- 12. Footer -->
  <footer class="site-footer container" id="contact">
    <div class="footer-cols">
      <div>
        <img src="images/mask.png" alt="Logo" class="footer-logo"/>
        <p>
          Phone:+265 123 456 789<br/>
          Email:info@xplorededza.com<br/>
          Address:Dedza, Malawi
        </p>
      </div>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-tiktok"></i></a>
        <a href="#"><i class="fab fa-whatsapp"></i></a>
      </div>
      <div>
        <a href="#">Xplore Farms</a><br/>
        <p>Website designed by Your Name</p>
      </div>
    </div>
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- Inline Script -->
  <script>
    document.addEventListener('DOMContentLoaded',()=>{
      // Hero slider
      const slides=document.querySelectorAll('.slide');
      let idx=0;
      const show= i=>{
        slides.forEach(s=>s.classList.remove('active'));
        slides[i].classList.add('active');
      };
      show(0);
      setInterval(()=>{
        idx=(idx+1)%slides.length; show(idx);
      },5000);

      // Mobile nav
      const navToggle=document.getElementById('nav-toggle'),
            navLinks=document.getElementById('nav-links');
      navToggle.addEventListener('click',()=>navLinks.classList.toggle('open'));

      // Scroll reveal
      const obs=new IntersectionObserver(entries=>{
        entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('visible') });
      },{threshold:.2});
      document.querySelectorAll('.feature-item,.card,.testi-item')
              .forEach(el=>obs.observe(el));

      // Currency toggle
      document.getElementById('toggle-currency')
        .addEventListener('change',e=>{
          document.querySelectorAll('.price').forEach(el=>{
            const mwk=+el.dataset.mwk;
            el.textContent=e.target.checked
              ?`USD $${(mwk/1000).toFixed(2)}`
              :`MWK ${mwk}`;
          });
        });

      // Booking form
      const form=document.getElementById('booking-form'),
            people=document.getElementById('people'),
            tourType=document.getElementById('tour-type'),
            total=document.getElementById('total-cost'),
            stats={bookings:0,people:0,trees:0};
      const upd=()=>{
        const price=+tourType.selectedOptions[0]?.dataset.price||0,
              cnt=+people.value||0;
        total.textContent=price*cnt;
      };
      tourType.addEventListener('change',upd);
      people.addEventListener('input',upd);

      const dateInput=document.getElementById('arrival-date');
      dateInput.min=new Date().toISOString().split('T')[0];

      form.addEventListener('submit',e=>{
        e.preventDefault();
        stats.bookings++; stats.people+=+people.value; stats.trees=stats.bookings;
        document.getElementById('stat-bookings').textContent=stats.bookings;
        document.getElementById('stat-people').textContent=stats.people;
        document.getElementById('stat-trees').textContent=stats.trees;
        const ta=document.getElementById('tree-animation');
        ta.style.opacity=1; setTimeout(()=>ta.style.opacity=0,2000);
        form.reset(); total.textContent='0';
      });

      // Leaflet map
      const map=L.map('mapid').setView([-14.3667,34.3333],10);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
        attribution:'© OpenStreetMap contributors'
      }).addTo(map);
      [
        {c:[-14.3667,34.3333],n:'Dedza Plateau',img:'images/hero1.jpg'},
        {c:[-14.4,34.35],n:'Kirk Range',img:'images/hero2.jpg'},
        {c:[-14.32,34.38],n:'Downsview Falls',img:'images/hero3.jpg'}
      ].forEach(l=>{
        L.marker(l.c).addTo(map)
         .bindPopup(`<strong>${l.n}</strong><br/><img src="${l.img}" style="width:100px">`);
      });
    });
  </script>
</body>
  </html>
